# Analyzer Rules & Coverage

Reference for the rules shipped in the OSS analyzer today and the upcoming detectors planned across OSS, Pro Overlay, and Team/CI milestones.

| Rule                      | Trigger                                                                                                        | Demo coverage                                                                     | Analyzer artifact                                                                     | Overlay / CI surface                                                    | Status               |
| ------------------------- | -------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- | -------------------- |
| `client-hoist-fetch`      | Awaiting `fetch` inside a client component                                                                     | `/scenarios/client-hoist-fetch`                                                   | `module:app/(scenarios)/scenarios/client-hoist-fetch/page.tsx`                        | Included in static report; overlay adds live hydration context          | Released (OSS M1)    |
| `server-promise-all`      | Sequential `await` calls in a server component that could run in parallel                                      | `/scenarios/server-promise-all`                                                   | `module:app/(scenarios)/scenarios/server-promise-all/page.tsx`                        | Report suggestions today; future overlay badge reuses the same scenario | Released (OSS M1)    |
| `client-forbidden-import` | Client component imports Node built-ins (`fs`, `path`, etc.)                                                   | `/scenarios/client-forbidden-import` (instructions + fixture)                     | `module:app/(scenarios)/scenarios/client-forbidden-import/ForbiddenImportExample.tsx` | Shows as report diagnostic; VS Code extension will surface it inline    | Released (OSS M1)    |
| `waterfall-suspected`     | Heuristic detects Suspense/Flight waterfalls or sequential data dependencies beyond the basic Promise.all rule | Planned Pro walkthrough using `/scenarios/server-promise-all` + before/after clip | Overlay badge + tooltip; planned CLI summary once analyzer aggregation lands          | Planned (Pro M2)                                                        |
| `cache-tag-impact`        | Pages sharing `revalidateTag`/`revalidatePath`; shows which routes refresh together                            | `/scenarios/cache-lens-coming-soon` (to be upgraded to interactive)               | Cache lens data (Pro overlay JSON)                                                    | Overlay cache lens simulation panel                                     | Planned (Pro M2)     |
| `bytes-budget-regression` | Route/component bytes exceed configured budget vs baseline                                                     | Seeded CI workflow in Team/CI example repo                                        | Budget comparison JSON + PR comment formatter                                         | GitHub Action comment + required check                                  | Planned (Team/CI M3) |
| `static-dynamic-mismatch` | Route should be static but opts into dynamic rendering (or vice-versa)                                         | Scenario to be added alongside static/dynamic detector work                       | Analyzer flags + CLI warning; overlay highlights affected routes                      | Planned (Pro M4)                                                        |
| `edge-cache-drift`        | Cache lens v2 detects mismatched “next visit” / SWR semantics or stale edge TTLs                               | Future variant of cache lens scenario (M4)                                        | Extended cache lens metadata                                                          | Overlay “next visit” projections + docs                                 | Planned (Pro M4)     |
| `server-action-orphan`    | Server action not connected to tags/routes (map detects orphaned or over-scoped actions)                       | To be documented with server actions map rollout                                  | Server actions graph export                                                           | Overlay server actions map                                              | Planned (Pro M4)     |

Additional rules, insights, and CI gates will be appended here as they land so OSS users can see which detections require Pro/Team surfaces and where to reproduce them.
